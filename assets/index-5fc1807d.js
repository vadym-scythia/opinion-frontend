(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function g(){}function K(t,e){for(const n in e)t[n]=e[n];return t}function wt(t){return t()}function lt(){return Object.create(null)}function M(t){t.forEach(wt)}function st(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function zt(t){return Object.keys(t).length===0}function Et(t,...e){if(t==null)return g;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function D(t,e,n){t.$$.on_destroy.push(Et(e,n))}function St(t,e,n,r){if(t){const o=xt(t,e,n,r);return t[0](o)}}function xt(t,e,n,r){return t[1]&&r?K(n.ctx.slice(),t[1](r(e))):n.ctx}function Ot(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],f=Math.max(e.dirty.length,o.length);for(let c=0;c<f;c+=1)s[c]=e.dirty[c]|o[c];return s}return e.dirty|o}return e.dirty}function Ct(t,e,n,r,o,s){if(o){const f=xt(e,n,r,s);t.p(f,o)}}function Lt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function at(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function tt(t,e){t.appendChild(e)}function E(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function J(t){return document.createTextNode(t)}function Pt(){return J(" ")}function ct(){return J("")}function Rt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ut(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Bt(t){return Array.from(t.childNodes)}function Dt(t,e){e=""+e,t.data!==e&&(t.data=e)}function dt(t,e){return new t(e)}let F;function q(t){F=t}function V(){if(!F)throw new Error("Function called outside component initialization");return F}function Nt(t){V().$$.on_mount.push(t)}function qt(t){V().$$.on_destroy.push(t)}function pt(t,e){return V().$$.context.set(t,e),e}function Q(t){return V().$$.context.get(t)}const T=[],ht=[];let I=[];const mt=[],Ft=Promise.resolve();let et=!1;function Gt(){et||(et=!0,Ft.then(At))}function nt(t){I.push(t)}const W=new Set;let N=0;function At(){if(N!==0)return;const t=F;do{try{for(;N<T.length;){const e=T[N];N++,q(e),Ht(e.$$)}}catch(e){throw T.length=0,N=0,e}for(q(null),T.length=0,N=0;ht.length;)ht.pop()();for(let e=0;e<I.length;e+=1){const n=I[e];W.has(n)||(W.add(n),n())}I.length=0}while(T.length);for(;mt.length;)mt.pop()();et=!1,W.clear(),q(t)}function Ht(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}function Yt(t){const e=[],n=[];I.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),I=e}const Y=new Set;let O;function ut(){O={r:0,c:[],p:O}}function ft(){O.r||M(O.c),O=O.p}function y(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function $(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),O.c.push(()=>{Y.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Kt(t,e){const n={},r={},o={$$scope:1};let s=t.length;for(;s--;){const f=t[s],c=e[s];if(c){for(const i in f)i in c||(r[i]=1);for(const i in c)o[i]||(n[i]=c[i],o[i]=1);t[s]=c}else for(const i in f)o[i]=1}for(const f in r)f in n||(n[f]=void 0);return n}function _t(t){return typeof t=="object"&&t!==null?t:{}}function j(t){t&&t.c()}function C(t,e,n,r){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),r||nt(()=>{const f=t.$$.on_mount.map(wt).filter(st);t.$$.on_destroy?t.$$.on_destroy.push(...f):M(f),t.$$.on_mount=[]}),s.forEach(nt)}function L(t,e){const n=t.$$;n.fragment!==null&&(Yt(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Jt(t,e){t.$$.dirty[0]===-1&&(T.push(t),Gt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(t,e,n,r,o,s,f,c=[-1]){const i=F;q(t);const u=t.$$={fragment:null,ctx:[],props:s,update:g,not_equal:o,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:lt(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};f&&f(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(h,m,...p)=>{const b=p.length?p[0]:m;return u.ctx&&o(u.ctx[h],u.ctx[h]=b)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](b),a&&Jt(t,h)),m}):[],u.update(),a=!0,M(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Bt(e.target);u.fragment&&u.fragment.l(h),h.forEach(w)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),C(t,e.target,e.anchor,e.customElement),At()}q(i)}class H{$destroy(){L(this,1),this.$destroy=g}$on(e,n){if(!st(n))return g;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!zt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Qt(t){let e,n,r;return{c(){e=v("p"),n=J("Error: "),r=J(t[0])},m(o,s){E(o,e,s),tt(e,n),tt(e,r)},p(o,s){s&1&&Dt(r,o[0])},d(o){o&&w(e)}}}function Vt(t){let e;return{c(){e=v("p"),e.textContent="Loading..."},m(n,r){E(n,e,r)},p:g,d(n){n&&w(e)}}}function Wt(t){let e,n,r,o;function s(i,u){if(i[1])return Vt;if(i[0])return Qt}let f=s(t),c=f&&f(t);return{c(){c&&c.c(),e=Pt(),n=v("button"),n.textContent="callback"},m(i,u){c&&c.m(i,u),E(i,e,u),E(i,n,u),r||(o=Rt(n,"click",t[2]),r=!0)},p(i,[u]){f===(f=s(i))&&c?c.p(i,u):(c&&c.d(1),c=f&&f(i),c&&(c.c(),c.m(e.parentNode,e)))},i:g,o:g,d(i){c&&c.d(i),i&&w(e),i&&w(n),r=!1,o()}}}const Xt="https://opinion.dev.ngrok.io/api/exchange-code?code=";function Zt(t,e,n){let r=null,o=!1;const s=async f=>{n(1,o=!0);try{const c=await fetch(Xt+f,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c.ok)throw new Error(`API request failed with status ${c.status}`);const i=await c.json()}catch(c){n(0,r=c.message)}finally{n(1,o=!1)}Nt(()=>{const c=new URLSearchParams(window.location.search),i=c.get("code"),u=c.get("error");i?s(i):u&&console.error("Instagram authentication error:",u)})};return[r,o,s]}class Tt extends H{constructor(e){super(),G(this,e,Zt,Wt,z,{})}}function te(t){let e,n,r;return{c(){e=v("button"),e.textContent="authorize"},m(o,s){E(o,e,s),n||(r=Rt(e,"click",t[0]),n=!0)},p:g,i:g,o:g,d(o){o&&w(e),n=!1,r()}}}const ee="https://opinion.dev.ngrok.io/api/auth";function ne(t){return[async()=>{let r=await(await fetch(ee,{method:"GET",headers:{}})).text();console.log(r),location.replace(r)}]}class re extends H{constructor(e){super(),G(this,e,ne,te,z,{})}}const A=[];function oe(t,e){return{subscribe:B(t,e).subscribe}}function B(t,e=g){let n;const r=new Set;function o(c){if(z(t,c)&&(t=c,n)){const i=!A.length;for(const u of r)u[1](),A.push(u,t);if(i){for(let u=0;u<A.length;u+=2)A[u][0](A[u+1]);A.length=0}}}function s(c){o(c(t))}function f(c,i=g){const u=[c,i];return r.add(u),r.size===1&&(n=e(o)||g),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:f}}function ie(t,e,n){const r=!Array.isArray(t),o=r?[t]:t,s=e.length<2;return oe(n,f=>{let c=!1;const i=[];let u=0,a=g;const h=()=>{if(u)return;a();const p=e(r?i[0]:i,f);s?f(p):a=st(p)?p:g},m=o.map((p,b)=>Et(p,_=>{i[b]=_,u&=~(1<<b),c&&h()},()=>{u|=1<<b}));return c=!0,h(),function(){M(m),a(),c=!1}})}const rt={},ot={};function X(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}function se(t,e){const n=[];let r=X(t);return{get location(){return r},listen(o){n.push(o);const s=()=>{r=X(t),o({location:r,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const f=n.indexOf(o);n.splice(f,1)}},navigate(o,{state:s,replace:f=!1}={}){s={...s,key:Date.now()+""};try{f?t.history.replaceState(s,null,o):t.history.pushState(s,null,o)}catch{t.location[f?"replace":"assign"](o)}r=X(t),n.forEach(c=>c({location:r,action:"PUSH"}))}}}function ce(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(o,s){},removeEventListener(o,s){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(o,s,f){const[c,i=""]=f.split("?");e++,n.push({pathname:c,search:i}),r.push(o)},replaceState(o,s,f){const[c,i=""]=f.split("?");n[e]={pathname:c,search:i},r[e]=o}}}}const ue=!!(typeof window<"u"&&window.document&&window.document.createElement),gt=se(ue?window:ce()),It=/^:(.+)/,bt=4,fe=3,le=2,ae=1,de=1;function pe(t){return t===""}function he(t){return It.test(t)}function jt(t){return t[0]==="*"}function it(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Z(t){return t.replace(/(^\/+|\/+$)/g,"")}function me(t,e){const n=t.default?0:it(t.path).reduce((r,o)=>(r+=bt,pe(o)?r+=de:he(o)?r+=le:jt(o)?r-=bt+ae:r+=fe,r),0);return{route:t,score:n,index:e}}function _e(t){return t.map(me).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function vt(t,e){let n,r;const[o]=e.split("?"),s=it(o),f=s[0]==="",c=_e(t);for(let i=0,u=c.length;i<u;i++){const a=c[i].route;let h=!1;if(a.default){r={route:a,params:{},uri:e};continue}const m=it(a.path),p={},b=Math.max(s.length,m.length);let _=0;for(;_<b;_++){const d=m[_],P=s[_];if(d!==void 0&&jt(d)){const U=d==="*"?"*":d.slice(1);p[U]=s.slice(_).map(decodeURIComponent).join("/");break}if(P===void 0){h=!0;break}let R=It.exec(d);if(R&&!f){const U=decodeURIComponent(P);p[R[1]]=U}else if(d!==P){h=!0;break}}if(!h){n={route:a,params:p,uri:"/"+s.slice(0,_).join("/")};break}}return n||r||null}function ge(t,e){return vt([t],e)}function yt(t,e){return`${Z(e==="/"?t:`${Z(t)}/${Z(e)}`)}/`}function be(t){let e;const n=t[9].default,r=St(n,t,t[8],null);return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,[s]){r&&r.p&&(!e||s&256)&&Ct(r,n,o,o[8],e?Ot(n,o[8],s,null):Lt(o[8]),null)},i(o){e||(y(r,o),e=!0)},o(o){$(r,o),e=!1},d(o){r&&r.d(o)}}}function ye(t,e,n){let r,o,s,{$$slots:f={},$$scope:c}=e,{basepath:i="/"}=e,{url:u=null}=e;const a=Q(rt),h=Q(ot),m=B([]);D(t,m,l=>n(6,o=l));const p=B(null);let b=!1;const _=a||B(u?{pathname:u}:gt.location);D(t,_,l=>n(5,r=l));const d=h?h.routerBase:B({path:i,uri:i});D(t,d,l=>n(7,s=l));const P=ie([d,p],([l,k])=>{if(k===null)return l;const{path:S}=l,{route:x,uri:Mt}=k;return{path:x.default?S:x.path.replace(/\*.*$/,""),uri:Mt}});function R(l){const{path:k}=s;let{path:S}=l;if(l._path=S,l.path=yt(k,S),typeof window>"u"){if(b)return;const x=ge(l,r.pathname);x&&(p.set(x),b=!0)}else m.update(x=>(x.push(l),x))}function U(l){m.update(k=>{const S=k.indexOf(l);return k.splice(S,1),k})}return a||(Nt(()=>gt.listen(k=>{_.set(k.location)})),pt(rt,_)),pt(ot,{activeRoute:p,base:d,routerBase:P,registerRoute:R,unregisterRoute:U}),t.$$set=l=>{"basepath"in l&&n(3,i=l.basepath),"url"in l&&n(4,u=l.url),"$$scope"in l&&n(8,c=l.$$scope)},t.$$.update=()=>{if(t.$$.dirty&128){const{path:l}=s;m.update(k=>(k.forEach(S=>S.path=yt(l,S._path)),k))}if(t.$$.dirty&96){const l=vt(o,r.pathname);p.set(l)}},[m,_,d,i,u,r,o,s,c,f]}class ke extends H{constructor(e){super(),G(this,e,ye,be,z,{basepath:3,url:4})}}const $e=t=>({params:t&4,location:t&16}),kt=t=>({params:t[2],location:t[4]});function $t(t){let e,n,r,o;const s=[Ee,we],f=[];function c(i,u){return i[0]!==null?0:1}return e=c(t),n=f[e]=s[e](t),{c(){n.c(),r=ct()},m(i,u){f[e].m(i,u),E(i,r,u),o=!0},p(i,u){let a=e;e=c(i),e===a?f[e].p(i,u):(ut(),$(f[a],1,1,()=>{f[a]=null}),ft(),n=f[e],n?n.p(i,u):(n=f[e]=s[e](i),n.c()),y(n,1),n.m(r.parentNode,r))},i(i){o||(y(n),o=!0)},o(i){$(n),o=!1},d(i){f[e].d(i),i&&w(r)}}}function we(t){let e;const n=t[10].default,r=St(n,t,t[9],kt);return{c(){r&&r.c()},m(o,s){r&&r.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s&532)&&Ct(r,n,o,o[9],e?Ot(n,o[9],s,$e):Lt(o[9]),kt)},i(o){e||(y(r,o),e=!0)},o(o){$(r,o),e=!1},d(o){r&&r.d(o)}}}function Ee(t){let e,n,r;const o=[{location:t[4]},t[2],t[3]];var s=t[0];function f(c){let i={};for(let u=0;u<o.length;u+=1)i=K(i,o[u]);return{props:i}}return s&&(e=dt(s,f())),{c(){e&&j(e.$$.fragment),n=ct()},m(c,i){e&&C(e,c,i),E(c,n,i),r=!0},p(c,i){const u=i&28?Kt(o,[i&16&&{location:c[4]},i&4&&_t(c[2]),i&8&&_t(c[3])]):{};if(i&1&&s!==(s=c[0])){if(e){ut();const a=e;$(a.$$.fragment,1,0,()=>{L(a,1)}),ft()}s?(e=dt(s,f()),j(e.$$.fragment),y(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else s&&e.$set(u)},i(c){r||(e&&y(e.$$.fragment,c),r=!0)},o(c){e&&$(e.$$.fragment,c),r=!1},d(c){c&&w(n),e&&L(e,c)}}}function Se(t){let e,n,r=t[1]!==null&&t[1].route===t[7]&&$t(t);return{c(){r&&r.c(),e=ct()},m(o,s){r&&r.m(o,s),E(o,e,s),n=!0},p(o,[s]){o[1]!==null&&o[1].route===o[7]?r?(r.p(o,s),s&2&&y(r,1)):(r=$t(o),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(ut(),$(r,1,1,()=>{r=null}),ft())},i(o){n||(y(r),n=!0)},o(o){$(r),n=!1},d(o){r&&r.d(o),o&&w(e)}}}function xe(t,e,n){let r,o,{$$slots:s={},$$scope:f}=e,{path:c=""}=e,{component:i=null}=e;const{registerRoute:u,unregisterRoute:a,activeRoute:h}=Q(ot);D(t,h,d=>n(1,r=d));const m=Q(rt);D(t,m,d=>n(4,o=d));const p={path:c,default:c===""};let b={},_={};return u(p),typeof window<"u"&&qt(()=>{a(p)}),t.$$set=d=>{n(13,e=K(K({},e),at(d))),"path"in d&&n(8,c=d.path),"component"in d&&n(0,i=d.component),"$$scope"in d&&n(9,f=d.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&r&&r.route===p&&n(2,b=r.params);{const{path:d,component:P,...R}=e;n(3,_=R)}},e=at(e),[i,r,b,_,o,h,m,p,c,f,s]}class Oe extends H{constructor(e){super(),G(this,e,xe,Se,z,{path:8,component:0})}}function Ce(t){let e,n;return e=new Oe({props:{path:"callback",component:t[0]}}),{c(){j(e.$$.fragment)},m(r,o){C(e,r,o),n=!0},p:g,i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function Le(t){let e,n,r,o,s,f,c;return e=new ke({props:{$$slots:{default:[Ce]},$$scope:{ctx:t}}}),s=new re({}),f=new Tt({}),{c(){j(e.$$.fragment),n=Pt(),r=v("main"),o=v("div"),j(s.$$.fragment),j(f.$$.fragment),Ut(o,"class","card")},m(i,u){C(e,i,u),E(i,n,u),E(i,r,u),tt(r,o),C(s,o,null),C(f,o,null),c=!0},p(i,[u]){const a={};u&2&&(a.$$scope={dirty:u,ctx:i}),e.$set(a)},i(i){c||(y(e.$$.fragment,i),y(s.$$.fragment,i),y(f.$$.fragment,i),c=!0)},o(i){$(e.$$.fragment,i),$(s.$$.fragment,i),$(f.$$.fragment,i),c=!1},d(i){L(e,i),i&&w(n),i&&w(r),L(s),L(f)}}}function Pe(t){return[Tt]}class Re extends H{constructor(e){super(),G(this,e,Pe,Le,z,{})}}new Re({target:document.getElementById("app")});
